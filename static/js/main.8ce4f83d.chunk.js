(this["webpackJsonpmotivation-board"]=this["webpackJsonpmotivation-board"]||[]).push([[0],{159:function(e,a,t){},160:function(e,a,t){},486:function(e,a,t){"use strict";t.r(a);var r=t(1),n=t(19),s=t.n(n),c=(t(159),t(155)),l=(t(160),t(161),t(85)),i=(t(162),t(2)),o=function(e){var a=e.values.map((function(a,t){return Object(i.jsx)("div",{className:"point",children:Object(i.jsx)("span",{className:"point__number",style:{left:100*a/e.maxValue+"%"},children:a})},t)}));return Object(i.jsx)("div",{className:"x-axis",children:a})};o.defaultProps={values:[5e4,1e5,15e4,2e5,25e4]};var u=t.p+"static/media/fire.42d52aef.gif";function p(e){var a=e.records,t=e.pointsValues,r=e.totalGoal,n=e.planMarkerPos,s=e.bestManager,c=a.map((function(e){var n=100*e.value/Math.max.apply(Math,Object(l.a)(t))+"%",s=e.value;if(0===Number(e.value))return null;a.length>1&&(s=(100*s/r).toFixed(2)+"%");var c=a.length>1?"rotate(-90deg)":"rotate(0deg)";return Object(i.jsx)("div",{className:"progressbar__item",style:{backgroundColor:e.color,width:n},children:Object(i.jsx)("span",{className:"progressbar__value",style:{transform:c},children:s})},e.name)}));return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"progressbar-wrapper",style:{margin:"7rem 0",position:"relative"},children:[1===a.length&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:"name",children:[s&&Object(i.jsx)("img",{className:"fire-icon",src:u,alt:"firing..."}),a[0].name]}),Object(i.jsxs)("div",{className:"percentage",children:[Object(i.jsx)("div",{children:"7.5%"}),Object(i.jsx)("div",{children:"10%"}),Object(i.jsx)("div",{children:"13%"})]})]}),Object(i.jsxs)("div",{className:"progressbar",children:[c,Object(i.jsx)("div",{className:"plan-marker",style:{left:n}})]}),Object(i.jsx)(o,{values:t,maxValue:Math.max.apply(Math,Object(l.a)(t))})]})})}var m=t(83),j=t.n(m),d=t(148),b=t(149),h=t.n(b).a.create({baseURL:"https://kapri-server.herokuapp.com"}),v=function(){var e=Object(d.a)(j.a.mark((function e(){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://online.moysklad.ru/api/remap/1.2/report/profit/byemployee?momentFrom=2021-03-01 00:00:01 ",e.next=3,h.post("/",{link:"https://online.moysklad.ru/api/remap/1.2/report/profit/byemployee?momentFrom=2021-03-01 00:00:01 "});case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=t(488),x=[35e3,5e4,67e3,1e5],O=[5e4,1e5,15e4,2e5,25e4,3e5];function g(e){var a=Object(r.useState)([]),t=Object(c.a)(a,2),n=t[0],s=t[1],l=["#e4a21f","#437fb7","#3b8c13"],o=2e5,u=n.length?o/n.length:0;return Object(r.useEffect)((function(){v().then((function(e){var a=e.map((function(e,a){var t=l[a];return{name:e.employee.name,value:+(e.sellSum/100).toFixed(0),color:t}})).sort((function(e,a){return a.value-e.value}));s(a)}))}),[]),n.length?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(p,{goal:o,records:n,planMarkerPos:2e7/3e5+"%",pointsValues:O,totalGoal:o}),n.map((function(e,a){return Object(i.jsx)(p,{bestManager:0===a,records:[e],pointsValues:x,totalGoal:u,planMarkerPos:100*u/Math.max.apply(Math,x)+"%"},e.name)}))]}):Object(i.jsx)("div",{className:"spinner",children:Object(i.jsx)(f.a,{})})}s.a.render(Object(i.jsx)(g,{}),document.getElementById("root"))}},[[486,1,2]]]);
//# sourceMappingURL=main.8ce4f83d.chunk.js.map