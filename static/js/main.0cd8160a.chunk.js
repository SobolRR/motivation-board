(this["webpackJsonpmotivation-board"]=this["webpackJsonpmotivation-board"]||[]).push([[0],{134:function(e,a,t){},135:function(e,a,t){},208:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t(23),l=t.n(r),s=(t(134),t(67)),c=t(49),i=t(105),o=(t(135),t(136),t(212)),u=t(211),m=t(210),b=t(213),j=t(39),d=t(10),p=o.a.Option,v={labelCol:{span:8},wrapperCol:{span:8}},O={required:"${label} is required!",types:{email:"${label} is not a valid email!",number:"${label} is not a valid number!"},number:{range:"${label} must be between ${min} and ${max}"}},h=function(e){var a=e.onFinish,t=e.names;return Object(d.jsxs)(u.a,Object(c.a)(Object(c.a)({},v),{},{name:"nest-messages",onFinish:a,validateMessages:O,children:[Object(d.jsx)(u.a.Item,{name:["name"],label:"Name",children:Object(d.jsx)(o.a,{placeholder:"Select name",onChange:function(){},allowClear:!0,children:t.map((function(e){return Object(d.jsx)(p,{value:e,children:e},e)}))})}),Object(d.jsx)(u.a.Item,{name:["date"],label:"Date",rules:[{required:!0}],children:Object(d.jsx)(m.a,{})}),Object(d.jsx)(u.a.Item,{name:["total"],label:"Total",children:Object(d.jsx)(b.a,{type:"number"})}),Object(d.jsx)(u.a.Item,{wrapperCol:Object(c.a)(Object(c.a)({},v.wrapperCol),{},{offset:8}),children:Object(d.jsx)(j.a,{type:"primary",htmlType:"submit",children:"Submit"})})]}))},f=function(e){var a=e.values.map((function(a,t){return Object(d.jsx)("div",{className:"point",children:Object(d.jsx)("span",{className:"point__number",style:{left:100*a/e.maxValue+"%"},children:a})},t)}));return Object(d.jsx)("div",{className:"x-axis",children:a})};function x(e){var a=e.records,t=e.pointsValues,n=e.goalMarkerPos,r=a.sort((function(e,a){return e.value+a.value})).map((function(e,n){var r=100*e.value/Math.max.apply(Math,Object(s.a)(t)),l=e.value;if(0===Number(e.value))return null;a.length>1&&(l=(100*l/2e5).toFixed(2)+"%");var c={transform:a.length>1?"rotate(-90deg)":"rotate(0deg)"};return Object(d.jsx)("div",{className:"progressbar__item",style:{backgroundColor:e.color,width:r+"%"},children:Object(d.jsx)("span",{className:"progressbar__value",style:c,children:l})},e.name)}));return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"progressbar-wrapper",style:{margin:"7rem 0",position:"relative"},children:[1===a.length&&Object(d.jsx)("span",{className:"name",children:a[0].name}),1===a.length&&Object(d.jsxs)("div",{className:"percentage",children:[Object(d.jsx)("div",{children:"7.5%"}),Object(d.jsx)("div",{children:"10%"}),Object(d.jsx)("div",{children:"13%"})]}),Object(d.jsxs)("div",{className:"progressbar",children:[r,Object(d.jsx)("div",{className:"plan-marker",style:{left:n}})]}),Object(d.jsx)(f,{values:t,maxValue:Math.max.apply(Math,Object(s.a)(t))})]})})}f.defaultProps={values:[5e4,1e5,15e4,2e5,25e4]};var g=t(214);function y(e){var a=Object(n.useState)([{name:"\u042e\u043b\u044f",value:0,color:"#e4a21f"},{name:"\u041a\u0430\u0442\u044f",value:0,color:"#437fb7"},{name:"\u0420\u043e\u043c\u0430\u043d",value:0,color:"#3b8c13"}]),t=Object(i.a)(a,2),r=t[0],l=t[1],o=2e5,u=o/r.length,m=r.sort((function(e,a){return a.value-e.value})).map((function(e,a){return Object(d.jsx)(x,{records:[e],pointsValues:[35e3,5e4,67e3,1e5],goal:u,goalMarkerPos:100*u/1e5+"%"},e.name)})),b=function(e){var a=JSON.parse(localStorage.getItem("motivational_board"));return e.map((function(e){var t=a.findIndex((function(a){return a.name===e.name}));return t>-1?Object(c.a)(Object(c.a)({},e),{},{value:a[t].total}):e})).sort((function(e,a){return a.value-e.value}))};Object(n.useEffect)((function(){JSON.parse(localStorage.getItem("motivational_board"))&&l(b)}),[]);var j=r.map((function(e){return e.name}));return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(N,{onFinish:function(e){!function(e,a){if(a){var t=Object(s.a)(a),n=a.findIndex((function(a){return a.name===e.name}));n>-1?t[n]=e:t.push(e),localStorage.setItem("motivational_board",JSON.stringify(t))}else localStorage.setItem("motivational_board",JSON.stringify([e])),l(b)}(e,JSON.parse(localStorage.getItem("motivational_board"))),l(b)},names:j}),Object(d.jsx)(x,{goal:o,records:r,goalMarkerPos:"80%",pointsValues:[5e4,1e5,15e4,2e5,25e4]}),m]})}var N=function(e){var a=e.onFinish,t=e.names,r=Object(n.useState)(!1),l=Object(i.a)(r,2),s=l[0],c=l[1];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(j.a,{type:"primary",onClick:function(){c(!0)},children:"Update"}),Object(d.jsx)(g.a,{title:"Basic Modal",visible:s,onCancel:function(){c(!1)},footer:[],children:Object(d.jsx)(h,{onFinish:function(e){c(!1),a(e)},names:t})})]})};l.a.render(Object(d.jsx)(y,{}),document.getElementById("root"))}},[[208,1,2]]]);
//# sourceMappingURL=main.0cd8160a.chunk.js.map